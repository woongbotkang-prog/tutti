# TUTTI ì•„í‚¤í…ì²˜ ë¬¸ì„œ

**í”„ë¡œì íŠ¸**: TUTTI (í´ë˜ì‹ ì—°ì£¼ì ë§¤ì¹­ í”Œë«í¼)  
**ì‘ì„±ì¼**: 2026-02-14  
**ë²„ì „**: 1.0

---

## ğŸ“ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BROWSER (ì‚¬ìš©ì)                          â”‚
â”‚                 (Next.js Client Components)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vercel (Next.js í˜¸ìŠ¤íŒ…)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ SSR/SSG (ì„±ëŠ¥ ìµœì í™”)                                      â”‚
â”‚ â€¢ API Routes (/api/*)                                       â”‚
â”‚ â€¢ Middleware (ì¸ì¦)                                         â”‚
â”‚ â€¢ Image Optimization                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Backend Layer (Next.js API Routes)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Authentication (/api/auth/*)                              â”‚
â”‚ â€¢ Business Logic (/api/listings, /api/profiles, etc)       â”‚
â”‚ â€¢ Middleware (RLS enforcement)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ PostgREST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Supabase (PostgreSQL + Realtime)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Database:                                                    â”‚
â”‚ â€¢ 18ê°œ í…Œì´ë¸” (users, listings, applications, etc)        â”‚
â”‚ â€¢ 21ê°œ ì¸ë±ìŠ¤ (ì„±ëŠ¥)                                         â”‚
â”‚ â€¢ RLS ì •ì±… (ë³´ì•ˆ)                                           â”‚
â”‚                                                              â”‚
â”‚ Realtime:                                                    â”‚
â”‚ â€¢ ì±„íŒ… ë©”ì‹œì§€ (messages)                                     â”‚
â”‚ â€¢ ì•Œë¦¼ (notifications)                                      â”‚
â”‚                                                              â”‚
â”‚ Auth:                                                        â”‚
â”‚ â€¢ Supabase Auth (JWT)                                      â”‚
â”‚ â€¢ Email + ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸                                 â”‚
â”‚                                                              â”‚
â”‚ Storage:                                                     â”‚
â”‚ â€¢ í”„ë¡œí•„ ì‚¬ì§„ (/profiles/*)                                 â”‚
â”‚ â€¢ ë‹¨ì²´ ë¡œê³  (/organizations/*)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ í´ë” êµ¬ì¡° (Next.js 14 App Router)

```
tutti/
â”œâ”€â”€ app/                              # ë¼ìš°íŠ¸ & í˜ì´ì§€
â”‚   â”œâ”€â”€ (auth)/                       # ì¸ì¦ (ê·¸ë£¹í™”)
â”‚   â”‚   â”œâ”€â”€ signup/page.tsx           # íšŒì›ê°€ì…
â”‚   â”‚   â”œâ”€â”€ login/page.tsx            # ë¡œê·¸ì¸
â”‚   â”‚   â”œâ”€â”€ callback/page.tsx         # OAuth ì½œë°±
â”‚   â”‚   â””â”€â”€ layout.tsx                # ì¸ì¦ ë ˆì´ì•„ì›ƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ (dashboard)/                  # ë©”ì¸ ì„œë¹„ìŠ¤ (ë³´í˜¸ëœ)
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # í™ˆ (ê³µê³  í”¼ë“œ)
â”‚   â”‚   â”œâ”€â”€ profile/                  # í”„ë¡œí•„
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # ë‚´ í”„ë¡œí•„
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/page.tsx         # íƒ€ì¸ í”„ë¡œí•„
â”‚   â”‚   â”‚   â””â”€â”€ edit/page.tsx         # í”„ë¡œí•„ ìˆ˜ì •
â”‚   â”‚   â”œâ”€â”€ listings/                 # ê³µê³ 
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # ê³µê³  ëª©ë¡
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/page.tsx         # ê³µê³  ìƒì„¸
â”‚   â”‚   â”‚   â””â”€â”€ new/page.tsx          # ê³µê³  ì‘ì„±
â”‚   â”‚   â”œâ”€â”€ applications/             # ì§€ì›
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ì§€ì› í˜„í™©
â”‚   â”‚   â”œâ”€â”€ chat/                     # ì±„íŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # ì±„íŒ… ëª©ë¡
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx         # ì±„íŒ…ë°©
â”‚   â”‚   â””â”€â”€ layout.tsx                # ë©”ì¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                          # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ auth/                     # ì¸ì¦
â”‚   â”‚   â”‚   â”œâ”€â”€ signup/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ login/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logout/route.ts
â”‚   â”‚   â”‚   â””â”€â”€ me/route.ts
â”‚   â”‚   â”œâ”€â”€ profiles/                 # í”„ë¡œí•„
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts              # GET, POST
â”‚   â”‚   â”‚   â””â”€â”€ [id]/route.ts         # GET, PATCH, DELETE
â”‚   â”‚   â”œâ”€â”€ listings/                 # ê³µê³ 
â”‚   â”‚   â”œâ”€â”€ applications/             # ì§€ì›
â”‚   â”‚   â”œâ”€â”€ chats/                    # ì±„íŒ…
â”‚   â”‚   â”œâ”€â”€ reviews/                  # ë¦¬ë·°
â”‚   â”‚   â””â”€â”€ health/route.ts           # Health check
â”‚   â”‚
â”‚   â”œâ”€â”€ layout.tsx                    # Root layout
â”‚   â”œâ”€â”€ page.tsx                      # ëœë”©
â”‚   â””â”€â”€ globals.css                   # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚
â”œâ”€â”€ lib/                              # ìœ í‹¸ë¦¬í‹° & í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ supabase.ts                   # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ supabase-auth.ts              # ì¸ì¦ í•¨ìˆ˜
â”‚   â”œâ”€â”€ api.ts                        # API í´ë¼ì´ì–¸íŠ¸ í—¬í¼
â”‚   â”œâ”€â”€ utils.ts                      # ë²”ìš© ìœ í‹¸ í•¨ìˆ˜
â”‚   â”œâ”€â”€ constants.ts                  # ìƒìˆ˜
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useAuth.ts                # ì¸ì¦ ìƒíƒœ
â”‚       â”œâ”€â”€ useListing.ts             # ê³µê³  ì¡°íšŒ
â”‚       â””â”€â”€ useProfile.ts             # í”„ë¡œí•„ ì¡°íšŒ
â”‚
â”œâ”€â”€ components/                       # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                           # shadcn/ui
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ forms/                        # í¼ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ SignUpForm.tsx
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”œâ”€â”€ ProfileForm.tsx
â”‚   â”‚   â””â”€â”€ ListingForm.tsx
â”‚   â”œâ”€â”€ layout/                       # ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â””â”€â”€ cards/                        # ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ ProfileCard.tsx
â”‚       â”œâ”€â”€ ListingCard.tsx
â”‚       â””â”€â”€ ApplicationCard.tsx
â”‚
â”œâ”€â”€ types/                            # TypeScript íƒ€ì…
â”‚   â””â”€â”€ index.ts                      # ëª¨ë“  íƒ€ì… ì •ì˜
â”‚
â”œâ”€â”€ styles/                           # CSS
â”‚   â”œâ”€â”€ globals.css                   # Tailwind + ì»¤ìŠ¤í…€
â”‚   â””â”€â”€ variables.css                 # CSS ë³€ìˆ˜
â”‚
â”œâ”€â”€ public/                           # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ icons/
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml                # CI/CD
â”‚
â”œâ”€â”€ migrations/                       # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â””â”€â”€ 001_initial_schema.sql
â”‚
â”œâ”€â”€ seed.sql                          # Seed ë°ì´í„°
â”œâ”€â”€ master-data-all.json              # ë§ˆìŠ¤í„° ë°ì´í„°
â”‚
â”œâ”€â”€ docs/                             # ë¬¸ì„œ
â”‚   â”œâ”€â”€ API.md
â”‚   â”œâ”€â”€ DATABASE.md
â”‚   â””â”€â”€ DEPLOYMENT.md
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ next.config.js
â”œâ”€â”€ .env.local.example
â””â”€â”€ README.md
```

---

## ğŸ”„ ë°ì´í„° íë¦„

### 1ï¸âƒ£ **íšŒì›ê°€ì… í”Œë¡œìš°**

```
User Input (í¼)
    â†“
<SignUpForm /> (í´ë¼ì´ì–¸íŠ¸ ê²€ì¦)
    â†“ POST /api/auth/signup
API Route: POST /api/auth/signup
    â”œâ”€ ìœ íš¨ì„± ê²€ì‚¬
    â”œâ”€ ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
    â”œâ”€ Supabase Auth.signUp()
    â”œâ”€ user_profiles INSERT
    â””â”€ JWT í† í° ë°˜í™˜
    â†“
setToken() â†’ localStorage ì €ì¥
    â†“
Router.push('/profile/setup')
```

### 2ï¸âƒ£ **ê³µê³  ë“±ë¡ í”Œë¡œìš°**

```
User Input (ListingForm)
    â†“
<ListingForm /> (í´ë¼ì´ì–¸íŠ¸ ê²€ì¦)
    â†“ POST /api/listings
API Route: POST /api/listings
    â”œâ”€ ì‚¬ìš©ì ì¸ì¦ í™•ì¸
    â”œâ”€ í”„ë¡œí•„ ì¡´ì¬ í™•ì¸
    â”œâ”€ Supabase RLS (INSERT)
    â””â”€ listings INSERT
    â†“
ì‹¤ì‹œê°„ ì•Œë¦¼ (Supabase Realtime)
    â”œâ”€ user_feed ê°±ì‹ 
    â””â”€ êµ¬ë…ìì— ë¸Œë¡œë“œìºìŠ¤íŠ¸
    â†“
í™ˆ í˜ì´ì§€ ì—…ë°ì´íŠ¸ (useEffect â†’ Realtime ë¦¬ìŠ¤ë„ˆ)
```

### 3ï¸âƒ£ **ì§€ì› í”Œë¡œìš°**

```
User: ê³µê³  ìƒì„¸ í˜ì´ì§€ì—ì„œ "ì§€ì›í•˜ê¸°" í´ë¦­
    â†“ POST /api/listings/{id}/applications
API Route
    â”œâ”€ ì‚¬ìš©ì ì¸ì¦ í™•ì¸
    â”œâ”€ í”„ë¡œí•„ ì¡´ì¬ í™•ì¸ (í•„ìˆ˜)
    â”œâ”€ applications INSERT
    â”œâ”€ ë§¤ì¹­ ì„±ì‚¬ ì‹œ chat_rooms ìë™ ìƒì„±
    â””â”€ ìƒëŒ€ë°©ì— ì•Œë¦¼ ì „ì†¡ (ì´ë©”ì¼)
    â†“
ê³µê³  ê²Œì‹œì: ì§€ì›ì ëª©ë¡ í™•ì¸
    â†“ PATCH /api/listings/{id}/applications/{app_id}
API Route
    â”œâ”€ ìˆ˜ë½ ë˜ëŠ” ê±°ì ˆ ì²˜ë¦¬
    â”œâ”€ ê±°ì ˆ ì‹œ reason_type + reason_text ì €ì¥
    â””â”€ ì§€ì›ìì— ì•Œë¦¼
    â†“
ì§€ì›ì: ìˆ˜ë½ ì‹œ chat_rooms í™œì„±í™” (Realtime)
```

### 4ï¸âƒ£ **ì±„íŒ… í”Œë¡œìš°**

```
User1: ë©”ì‹œì§€ ì…ë ¥ â†’ <ChatInput /> POST /api/chats/{id}/messages
    â†“
API Route
    â”œâ”€ ë©”ì‹œì§€ INSERT
    â”œâ”€ Realtime broadcast
    â””â”€ ì½ìŒ ìƒíƒœ ê°±ì‹ 
    â†“
Supabase Realtime Subscription
    â†“
User2 ë¸Œë¼ìš°ì €: ì‹¤ì‹œê°„ ë©”ì‹œì§€ ìˆ˜ì‹ 
    â†“
UI ì—…ë°ì´íŠ¸ (React state)
```

---

## ğŸ” ë³´ì•ˆ ì •ì±…

### Row Level Security (RLS)

```sql
-- ì˜ˆ: ìì‹ ì˜ í”„ë¡œí•„ë§Œ ìˆ˜ì • ê°€ëŠ¥
CREATE POLICY "Users can update own profile"
ON individual_profiles FOR UPDATE
USING (user_id = auth.uid())
WITH CHECK (user_id = auth.uid());

-- ì˜ˆ: ê³µê°œ í”„ë¡œí•„ì€ ëˆ„êµ¬ë‚˜ ì¡°íšŒ
CREATE POLICY "Anyone can view public profiles"
ON individual_profiles FOR SELECT
USING (is_verified = true);
```

### í† í° ê¸°ë°˜ ì¸ì¦

```typescript
// ìš”ì²­: Authorization: Bearer <JWT>
// ê²€ì¦: Supabase ìë™ ê²€ì¦
// ë§Œë£Œ: 1ì‹œê°„ (ìë™ ê°±ì‹ )
```

### ë¯¼ê° ë°ì´í„° ë³´í˜¸

```typescript
// âŒ ë…¸ì¶œ ì•ˆ í•¨
- password_hash
- refresh_tokens
- reviewer_id (ë¦¬ë·°ëŠ” ìµëª…)

// âœ… ë…¸ì¶œ OK
- ê³µê°œ í”„ë¡œí•„
- ê³µê³  ì •ë³´
- ë¦¬ë·° ì ìˆ˜ (ë¦¬ë·°ì–´ëª… ì œì™¸)
```

---

## ğŸ“Š API ê³„ì¸µ ì„¤ê³„

### Request/Response í‘œì¤€í™”

```typescript
// âœ… ì„±ê³µ ì‘ë‹µ
{
  "success": true,
  "data": { ... },
  "timestamp": "2026-02-14T02:47:00Z"
}

// âŒ ì‹¤íŒ¨ ì‘ë‹µ
{
  "success": false,
  "error": "ERROR_CODE",
  "message": "ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ë©”ì‹œì§€",
  "timestamp": "2026-02-14T02:47:00Z"
}
```

### ì—ëŸ¬ ì½”ë“œ ë¶„ë¥˜

```typescript
// ì¸ì¦ ê´€ë ¨: AUTH_*
// í”„ë¡œí•„ ê´€ë ¨: PROFILE_*
// ê³µê³  ê´€ë ¨: LISTING_*
// ì§€ì› ê´€ë ¨: APPLICATION_*
// ì±„íŒ… ê´€ë ¨: CHAT_*
// ì‹œìŠ¤í…œ: SYSTEM_*
```

---

## ğŸš€ ë°°í¬ í™˜ê²½

### 3ë‹¨ê³„ ë°°í¬

```
ê°œë°œ (Development)
â”œâ”€ URL: http://localhost:3000
â”œâ”€ DB: Supabase (dev project)
â””â”€ ìš©ë„: ë¡œì»¬ ê°œë°œ

ìŠ¤í…Œì´ì§• (Staging)
â”œâ”€ URL: staging.tutti.kr
â”œâ”€ DB: Supabase (staging project)
â”œâ”€ CD: PR ìë™ ë°°í¬
â””â”€ ìš©ë„: QA & ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

í”„ë¡œë•ì…˜ (Production)
â”œâ”€ URL: tutti.kr
â”œâ”€ DB: Supabase (prod project)
â”œâ”€ CD: main branchë§Œ ë°°í¬
â””â”€ ìš©ë„: ì‚¬ìš©ì ì„œë¹„ìŠ¤
```

### í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

```
.env.local (ë¡œì»¬ ê°œë°œ)
â”œâ”€ NEXT_PUBLIC_SUPABASE_URL
â”œâ”€ NEXT_PUBLIC_SUPABASE_ANON_KEY
â””â”€ ...

Vercel ëŒ€ì‹œë³´ë“œ (ë°°í¬)
â”œâ”€ ìŠ¤í…Œì´ì§• í™˜ê²½ ë³€ìˆ˜
â””â”€ í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### ê³„ì¸µë³„ í…ŒìŠ¤íŠ¸

```
UI ì»´í¬ë„ŒíŠ¸ (Unit)
â”œâ”€ React Testing Library
â””â”€ í¼ ì…ë ¥, ë²„íŠ¼ í´ë¦­ ë“±

API Routes (Integration)
â”œâ”€ Jest + Supertest
â””â”€ ì¸ì¦, ë°ì´í„° CRUD

E2E Tests
â”œâ”€ Playwright/Cypress
â””â”€ íšŒì›ê°€ì… â†’ ê³µê³  ì‘ì„± â†’ ì§€ì› â†’ ë¦¬ë·°
```

---

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### í”„ë¡ íŠ¸ì—”ë“œ

```typescript
// 1. ì´ë¯¸ì§€ ìµœì í™”
<Image src={url} alt="" width={400} height={300} />

// 2. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
const Modal = dynamic(() => import('@/components/Modal'));

// 3. ë©”ëª¨ì´ì œì´ì…˜
export const Card = memo(({ item }) => (...))

// 4. ìºì‹± (React Query)
const { data } = useQuery(['listings'], fetchListings, {
  staleTime: 1000 * 60 * 5, // 5ë¶„
});
```

### ë°ì´í„°ë² ì´ìŠ¤

```sql
-- 1. ì¸ë±ìŠ¤ (21ê°œ)
CREATE INDEX idx_listings_search 
ON listings(status, region_id, created_at DESC)
WHERE status = 'active';

-- 2. ë¶€ë¶„ ì¸ë±ìŠ¤ (í™œì„± ê³µê³ ë§Œ)
-- 3. ì¡°ì¸ ìµœì í™”
-- 4. ì¿¼ë¦¬ ìºì‹±
```

---

## ğŸ”” ì‹¤ì‹œê°„ ê¸°ëŠ¥

### Supabase Realtime êµ¬ë…

```typescript
// ì±„íŒ… ë©”ì‹œì§€ ì‹¤ì‹œê°„ ìˆ˜ì‹ 
const subscription = supabase
  .from('messages')
  .on('INSERT', (payload) => {
    setMessages((prev) => [...prev, payload.new]);
  })
  .subscribe();

// cleanup
subscription.unsubscribe();
```

---

## ğŸ“š í•µì‹¬ ê²°ì •ì‚¬í•­

| í•­ëª© | ê²°ì • | ì´ìœ  |
|------|------|------|
| Framework | Next.js 14 | SSR/SSG, API Routes, Vercel ìµœì í™” |
| DB | Supabase | ì¸ì¦, RLS, Realtime í†µí•© |
| Auth | JWT + Supabase Auth | ë¬´ìƒíƒœ, ë³´ì•ˆ, í™•ì¥ì„± |
| Styling | Tailwind CSS | ë¹ ë¥¸ ê°œë°œ, ì¼ê´€ì„± |
| Chat | Supabase Realtime | ë³„ë„ ì„œë²„ ë¶ˆí•„ìš” |
| API | REST | ë‹¨ìˆœí•¨, ìºì‹± ìš©ì´ |
| Deploy | Vercel | Next.js ìµœì í™”, CI/CD ìë™í™” |

---

## ğŸ¯ ë§ˆì´ê·¸ë ˆì´ì…˜ ê²½ë¡œ

### MVP â†’ Phase 1

```
â–² ê¸°ëŠ¥ ì¶”ê°€
â”‚
â”œâ”€ ì‹ ê³  ì‹œìŠ¤í…œ
â”œâ”€ ê³ ê¸‰ í•„í„°
â”œâ”€ í‘¸ì‹œ ì•Œë¦¼
â”œâ”€ ë¶„ì„ ëŒ€ì‹œë³´ë“œ
â”‚
â””â”€ MVP (ì§€ê¸ˆ)
```

### Phase 1 â†’ Phase 2

```
â–² ìˆ˜ìµí™”
â”‚
â”œâ”€ ë¶€ìŠ¤íŒ… (ê³µê³  ìƒë‹¨ ë…¸ì¶œ)
â”œâ”€ í”„ë¦¬ë¯¸ì—„ êµ¬ë…
â”œâ”€ ì¸ì¦ ë°°ì§€
â”‚
â””â”€ Phase 1
```

---

**ì´ ë¬¸ì„œëŠ” ì •ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.**
